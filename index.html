<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Star Trek Trivia</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #000020;
            color: white;
            font-family: 'Orbitron', sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            height: 100vh;
            text-align: center;
        }

        h1 {
            font-size: 40pt;
            margin-top: 20px;
            color: #FFD700; /* Bright gold color */
        }

        .trivia-description {
            font-family: Arial, sans-serif;
            font-size: 24pt;
            color: white;
            margin-top: 50px;
            text-align: center;
            line-height: 1.5;
        }

        .trivia-buttons {
            margin-top: 100px;
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .trivia-buttons button {
            background-color: #000020;
            color: white;
            font-family: Arial, sans-serif;
            font-size: 18pt;
            border: 2px solid gold;
            padding: 10px 20px;
            cursor: pointer;
        }

/* Add this to the existing CSS file */
.question {
  color: gold;
  font-family: Arial, sans-serif;
  font-size: 18pt;
  text-align: center;
  margin-top: 25px;
}

.buttons-container {
  display: flex;
  justify-content: center;
  gap: 25px;
  margin-top: 50px;
}

.answer-button {
  background-color: #000020;
  color: white;
  font-family: Arial, sans-serif;
  font-size: 18pt;
  border: 2px solid gold;
  padding: 15px;
  cursor: pointer;
  border-radius: 10px;
  flex: 1;
  max-width: 200px;
  text-align: center;
}

.feedback {
  font-family: Arial, sans-serif;
  font-size: 18pt;
  text-align: center;
  margin-top: 25px;
}
    </style>
</head>
<body>
    <h1>Star Trek Trivia</h1>
    <div class="trivia-description">
        Test your knowledge of Star Trek.<br>
        This may be the hardest Star Trek quiz you have ever taken.<br>
        You will have the option to answer 10, 25 or 50 questions.<br>
        Have fun, and leave feedback.<br><br>
        When complete, this quiz will offer 250 questions. However, it<br>
        is a work in progress.
    </div>
    <div class="trivia-buttons">
        <button data-questions="10">Play 10 Questions</button>
        <button data-questions="25">Play 25 Questions</button>
        <button data-questions="50">Play 50 Questions</button>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
  const buttons = document.querySelectorAll(".trivia-buttons button");

  buttons.forEach((button) => {
    button.addEventListener("click", () => {
      const numQuestions = parseInt(button.getAttribute("data-questions"));

      // Clear the screen
      document.body.innerHTML = "";

      // Import the Orbitron font
      const link = document.createElement("link");
      link.href = "https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap";
      link.rel = "stylesheet";
      document.head.appendChild(link);

      // Display the title
      const title = document.createElement("h1");
      title.innerText = `You have chosen to play ${numQuestions} questions. Good luck!`;
      title.style.color = "#FFD700"; // Gold color
      title.style.fontFamily = "Orbitron, sans-serif";
      title.style.fontSize = "24pt";
      title.style.textAlign = "center";
      title.style.marginTop = "20px";
      document.body.appendChild(title);

      // Display the countdown message
      const countdownMessage = document.createElement("div");
      countdownMessage.innerHTML = `Your game will start in <span id="countdown">10</span> seconds`;
      countdownMessage.style.color = "white";
      countdownMessage.style.fontFamily = "Arial, sans-serif";
      countdownMessage.style.fontSize = "24pt";
      countdownMessage.style.textAlign = "center";
      countdownMessage.style.marginTop = "150px";
      document.body.appendChild(countdownMessage);

      // Start the countdown
      let countdown = 10;
      const countdownElement = document.getElementById("countdown");
      const countdownInterval = setInterval(() => {
        countdown -= 1;
        countdownElement.innerText = countdown;
        if (countdown === 0) {
          clearInterval(countdownInterval);
          // Clear the screen again
          document.body.innerHTML = "";

          // Display the new title
          const newTitle = document.createElement("h1");
          newTitle.innerText = "Star Trek Trivia";
          newTitle.style.color = "#FFD700"; // Gold color
          newTitle.style.fontFamily = "Orbitron, sans-serif";
          newTitle.style.fontSize = "40pt";
          newTitle.style.textAlign = "center";
          newTitle.style.marginTop = "20px";
          document.body.appendChild(newTitle);

          // Initialize the score
          let correctAnswers = 0;
          let totalAnswered = 0;

          // Display the score
          const score = document.createElement("div");
          score.innerText = `You have answered ${correctAnswers} questions out of ${totalAnswered} correctly.`;
          score.style.color = "white";
          score.style.fontFamily = "Arial, sans-serif";
          score.style.fontSize = "18pt";
          score.style.textAlign = "center";
          score.style.marginTop = "25px";
          document.body.appendChild(score);

          // Function to update the score
          function updateScore(correct) {
            totalAnswered += 1;
            if (correct) {
              correctAnswers += 1;
            }
            score.innerText = `You have answered ${correctAnswers} questions out of ${totalAnswered} correctly.`;
          }

          // Function to shuffle array
          function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
              const j = Math.floor(Math.random() * (i + 1));
              [array[i], array[j]] = [array[j], array[i]];
            }
          }

          // Fetch questions and start the quiz
          fetch("https://raw.githubusercontent.com/Lead-Role/ST-Trivia/main/Star%20Trek%20Trivia.json")
            .then((response) => response.json())
            .then((data) => {
              shuffleArray(data);
              const selectedQuestions = data.slice(0, numQuestions);

              // Display the first question and answers
              function displayQuestion(questionIndex) {
                if (questionIndex >= selectedQuestions.length) {
                  document.body.innerHTML = "<h1>Quiz Completed!</h1>";
                  return;
                }

                const question = selectedQuestions[questionIndex];
                const answers = [question["Answer 1"], question["Answer 2"], question["Answer 3"], question["Answer 4"]];
                shuffleArray(answers);

                // Display the question
                const questionElement = document.createElement("div");
                questionElement.innerText = question.Question;
                questionElement.className = "question";
                document.body.appendChild(questionElement);

                // Display the answer buttons
                const buttonsContainer = document.createElement("div");
                buttonsContainer.className = "buttons-container";
                document.body.appendChild(buttonsContainer);

                answers.forEach((answer) => {
                  const answerButton = document.createElement("button");
                  answerButton.innerText = answer;
                  answerButton.className = "answer-button";
                  answerButton.addEventListener("click", () => {
                    const feedbackElement = document.createElement("div");
                    if (answer == question["Correct Answer"]) {
                      feedbackElement.innerText = "Correct";
                      feedbackElement.style.color = "limegreen";
                      updateScore(true);
                    } else {
                      feedbackElement.innerText = "Incorrect";
                      feedbackElement.style.color = "tomato";
                      updateScore(false);
                    }
                    feedbackElement.className = "feedback";
                    document.body.appendChild(feedbackElement);

                    setTimeout(() => {
                      document.body.innerHTML = "";
                      document.body.appendChild(newTitle);
                      document.body.appendChild(score);
                      displayQuestion(questionIndex + 1);
                    }, 2000);
                  });
                  buttonsContainer.appendChild(answerButton);
                });
              }

              // Start with the first question
              displayQuestion(0);
            })
            .catch((error) => {
              console.error("Error fetching trivia questions:", error);
            });
        }
      }, 1000);
    });
  });
});

    </script>
</body>
</html>
